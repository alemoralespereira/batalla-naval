<script>
    let socket;
    window.room = ""; // Almacena la sala seleccionada

    function joinGame() {
        const username = document.getElementById("username").value.trim();
        window.room = document.getElementById("roomSelect").value;

        if (!username) {
            alert("Por favor ingresa un nombre.");
            return;
        }

        document.getElementById("join-container").style.display = "none";
        document.getElementById("game-container").style.display = "block";

        socket = io();
        socket.emit("joinRoom", { username, room: window.room });

        socket.on("gameStart", () => {
            document.getElementById("statusMessage").innerText = "¬°Juego iniciado!";
            startGame();
        });

        socket.on("yourTurn", () => {
            document.getElementById("statusMessage").innerText = "üî• Es tu turno!";
        });

        socket.on("opponentTurn", () => {
            document.getElementById("statusMessage").innerText = "‚è≥ Espera al oponente...";
        });
    }
</script>
